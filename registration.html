<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration | RentMyCaravan.io</title>
    <link rel="stylesheet" href="./styles.css">
    
</head>
<body>
    <header>
        <!-- Header content -->
    </header>
    <main>
        <section id="registration-form">
            <h2>User Registration</h2>
            <p> Please enter your details here </p>
            <form  action="registration.php" method="post" onsubmit="return validateForm()">
                <label for="title">Title:</label>
                <input type="text" placeholder="Enter MR , MRs , Miss , Dr etc" id="title" name="title" required>

                <label for="fname">First name:</label>
                <input type="text" name="fname" id="fname" placeholder="First Name" required>
                <label for="lname">Last name:</label>
                <input type="text"  placeholder="Enter your last name " id="lname" name="lname" required>

                <label for="username">Username:</label>
                <input type="text" placeholder="Your Username must be at least 5 characters long " id="username" name="username" required>

                <label for="password">Password:</label>
                <input type="password" placeholder="Your Password requires at least one each of a-z, A-Z, and 0-9." id="password"  name ="password" required>
                
                <label for="confirm-password">Confirm Password:</label>
                <input type="password" placeholder="Your Confirm Password must match your Password" id="confirm-password" name="confirm-password" required>

                <label for="address">Address</label>
                <input type="text" id="address" name="address" required>

                <label for="postcode">Postcode</label>
                <input type="text" id="postcode" name="postcode" required>

                <label for="city">City</label>
                <input type="text" id="city" name="city" required>

                <label for="email">Email</label>
                <input type="text" placeholder="Your Email requires at least one . and @ " id="email" name="email" required>

                <button type="submit">Register</button>
            </form>
            <p id="confirmationMessage" class="hidden"></p>
        </section>
    </main>
    <footer>
        <!-- Footer content -->
    </footer>
    <script>
        function validateForm() {
            var title = document.getElementById("title").value.trim();
            var fname = document.getElementById("fname").value.trim();
            var lname = document.getElementById("lname").value.trim();
            var username = document.getElementById("username").value.trim();
            var password = document.getElementById("password").value.trim();
            var confirmPassword = document.getElementById("confirm-password").value.trim();
            var address = document.getElementById("address").value.trim();
            var postcode = document.getElementById("postcode").value.trim();
            var city = document.getElementById("city").value.trim();
            var email = document.getElementById("email").value.trim();

           // if (title === "" || fname === "" || lname === "" || username==="" || password ==="" || confirmPassword==="" || address==="" || postcode==="" || city==="" || email==="") {
             //   alert("Title, First Name, Last Name , Username , Password , Confirm Password , Address, Postcode, City and Email are required fields.");
             //   return false;
            //}

            if (username.length < 5) {
                alert("Username must be at least 5 characters long.");
                return false;
            }

            if (password.length < 8) {
                alert("Password must be at least 8 characters long.");
                return false;
            }

            var passwordValidationResult = validatePassword(password);
            if (passwordValidationResult != "") {
                alert("passwpord validation");//".passwordValidationResult);//
                return false;
            }

            if (password != confirmPassword) {
                alert("Passwords do not match.");
                return false;
            }

            var emailValidationResult = validateEmail(email);
            if (emailValidationResult != "") {
                alert("email  validation");//.emailValidationResult);//
                return false;
            }
            
            // Prevent form submission
            return true;
        }

        function validatePassword(password) {
            if (password === "") {
                return "No Password was entered.\n";
            } else if (password.length < 8) {
                return "Password must be at least 8 characters.\n";
            } else if (!(/[a-z]/.test(password)) || !(/[A-Z]/.test(password)) || !(/[0-9]/.test(password))) {
                return "Password requires at least one each of a-z, A-Z, and 0-9.\n";
            }
            return "";
        }

        function validateEmail(email) {
            if (email === "") {
                return "No Email was entered.\n";
            } else if (!(email.indexOf(".") > 0 && email.indexOf("@") > 0)) {
                return "Invalid email format.\n";
            }
            return "";
        }
    </script>
</body>
</html>  